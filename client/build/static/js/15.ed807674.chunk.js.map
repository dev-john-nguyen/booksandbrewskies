{"version":3,"sources":["services/bb/actions.js","components/BB/components/StarRating.js","components/home/components/CoolStuff.js"],"names":["insert_rating","rating","id","a","isEmpty","Object","assign","Error","code","axios","post","console","log","err","insert_comment","name","comment","StarRating","props","handleOnClick","e","itemId","setError","target","then","obj","setState","catch","state","hover","error","this","checkMark","className","width","height","viewBox","fill","xmlns","fillRule","d","clipRule","starSvg","fullStarSvg","starArray","i","push","key","onClick","onMouseOver","style","color","onMouseLeave","fontSize","React","Component","CoolStuff","setTimer","percent","timerHandle","setTimeout","mounted","translateX","clearTimer","clearTimeout","bb","get","data","prevProps","prevState","handleBBDesRender","map","bobj","index","intro","type","description","bio","myReview","handleBBRender","title","rate","transform","to","_id","src","imageUrl","alt","minWidth","alert","backgroundColor","padding"],"mappings":"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","file":"static/js/15.ed807674.chunk.js","sourcesContent":["import axios from 'axios';\nimport { isEmpty } from 'lodash';\n\nexport const insert_rating = async (rating, id) => {\n\n    if (isEmpty(rating)) throw Object.assign(\n        new Error('No Rating'),\n        { code: 402 }\n    );\n\n    if (isEmpty(id)) throw Object.assign(\n        new Error(\"Id is empty\"),\n        { code: 402 }\n    );\n\n    try {\n        await axios.post('/reviews/rating', { rating, id });\n    } catch (e) {\n        console.log(e)\n        return { err: 'Sorry, we are having issues submitting your rating' };\n    }\n\n    return { rating: rating };\n}\n\nexport const insert_comment = async (name, comment, id) => {\n\n    if (isEmpty(comment)) throw Object.assign(\n        new Error(\"No Comment\"),\n        { code: 402 }\n    );\n\n    if (isEmpty(name)) throw Object.assign(\n        new Error(\"No Name\"),\n        { code: 402 }\n    );\n\n    if (isEmpty(id)) throw Object.assign(\n        new Error(\"Id is Empty\"),\n        { code: 402 }\n    );\n\n\n    try {\n        await axios.post('/reviews/comment', { name, comment, id });\n    } catch (e) {\n        console.log(e)\n        return { err: 'Sorry, we are having issues submitting your comment' };\n    }\n\n    return { name, comment }\n}","import React from 'react'\nimport { insert_rating } from '../../../services/bb/actions';\n\nclass StarRating extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            rating: 0,\n            hover: 0,\n            error: false\n        }\n    }\n\n    handleOnClick = (e) => {\n\n        const { itemId, setError } = this.props;\n\n        insert_rating(e.target.name, itemId)\n            .then((obj) => {\n                if(obj.err) return setError();\n                this.setState({ rating: obj.rating });\n            })\n            .catch((e) => {\n                console.log(e)\n                setError();\n            });\n\n    }\n\n\n    render() {\n\n        const { itemId } = this.props;\n\n        const checkMark = (\n            <svg className=\"bi bi-check-circle\" width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path fillRule=\"evenodd\" d=\"M15.354 2.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3-3a.5.5 0 11.708-.708L8 9.293l6.646-6.647a.5.5 0 01.708 0z\" clipRule=\"evenodd\" />\n                <path fillRule=\"evenodd\" d=\"M8 2.5A5.5 5.5 0 1013.5 8a.5.5 0 011 0 6.5 6.5 0 11-3.25-5.63.5.5 0 11-.5.865A5.472 5.472 0 008 2.5z\" clipRule=\"evenodd\" />\n            </svg>\n        )\n\n        const starSvg = (\n            <svg className=\"bi bi-star\" width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path fillRule=\"evenodd\" d=\"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 00-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 00-.163-.505L1.71 6.745l4.052-.576a.525.525 0 00.393-.288l1.847-3.658 1.846 3.658a.525.525 0 00.393.288l4.052.575-2.906 2.77a.564.564 0 00-.163.506l.694 3.957-3.686-1.894a.503.503 0 00-.461 0z\" clipRule=\"evenodd\" />\n            </svg>\n        )\n\n        const fullStarSvg = (\n            <svg className=\"bi bi-star-fill\" width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z\" />\n            </svg>\n        )\n\n        let starArray = [];\n\n        if (this.state.rating === 0) {\n            for (let i = 1; i < 6; i++) {\n                starArray.push(\n                    <a className=\"p-1 mb-0\"\n                        key={itemId + i}\n                        name={i}\n                        onClick={this.handleOnClick}\n                        onMouseOver={(e) => this.setState({ hover: e.target.name })}\n                        style={this.state.hover > i ? { color: '#eabf00' } : {}}\n                    >\n                        {starSvg}\n                    </a>\n                )\n            }\n        } else {\n\n            for (let i = 1; i < 6; i++) {\n                if (this.state.rating >= i) {\n                    starArray.push(<p className=\"p-1 mb-0\" key={itemId + i}>{fullStarSvg}</p>);\n                } else {\n                    starArray.push(<p className=\"p-1 mb-0\" key={itemId + i}>{starSvg}</p>);\n                }\n            }\n\n        }\n\n        return (\n            <div className=\"star d-flex user-star-rating m-auto\" onMouseLeave={() => this.setState({ hover: 0 })} style={{ width: 'fit-content', fontSize: '1.5rem' }}>\n                {starArray}\n                {this.state.rating !== 0 && checkMark}\n            </div>\n        )\n    }\n}\n\nexport default StarRating;","import React from 'react';\nimport StarRating from '../../BB/components/StarRating';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { isEmpty } from 'lodash'\n\nclass CoolStuff extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      bb: [],\n      error: false,\n      translateX: '0%',\n    }\n  }\n\n  componentDidMount() {\n\n    axios.get('/reviews/home')\n      .then((obj) => {\n        !isEmpty(obj) && this.setState({ bb: obj.data })\n      })\n      .catch((e) => {\n        console.log(e)\n        this.setState({ error: true })\n      })\n\n      this.mounted = true;\n\n      this.setTimer('-100%');\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.translateX !== this.state.translateX) {\n      if (this.state.translateX === '-100%') {\n        this.setTimer('0%');\n      } else {\n        this.setTimer('-100%');\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    if(this.timerHandle) {\n      clearTimeout(this.timerHandle);\n      this.clearTimer();\n    }\n  }\n\n  setTimer = (percent) => {\n    // if (this.timerHandle) {\n    //   // Exception?\n    //   return;\n    // }\n    // Remember the timer handle\n    this.timerHandle = setTimeout(() => {\n      this.mounted && this.setState({ translateX: percent });\n      this.timerHandle = 0;\n    }, 5000);\n  };\n\n  clearTimer = () => {\n    // Is our timer running?\n    if (this.timerHandle) {\n        // Yes, clear it\n        clearTimeout(this.timerHandle);\n        this.timerHandle = 0;\n    }\n  };\n\n\n  render() {\n    const { bb, error, translateX } = this.state;\n\n    const handleBBDesRender = bb.map((bobj, index) => {\n      let intro;\n\n      if (bobj.type === 'book') {\n        intro = `The book of this month is ${bobj.name}! ${bobj.name} was written by ${bobj.description}.`;\n      } else {\n        intro = `The beer of this week is ${bobj.name}! ${bobj.name} is from ${bobj.description}. `;\n      }\n\n      return (\n        <p key={index}>\n          {intro}{bobj.bio}{bobj.myReview.comment}\n        </p>\n      )\n    })\n\n    const handleBBRender = bb.map((bobj, index) => {\n      let title;\n      let rate;\n\n      if (bobj.type === 'book') {\n        title = 'Book Of The Month'\n        rate = 'Have you read it? Rate it.'\n      } else {\n        title = 'Beer Of The Week'\n        rate = 'Have you tried it? Rate it.'\n      }\n\n      return (\n        <div className=\"slide\" style={this.mounted && {\n          transform: `translateX(${translateX})`\n        }} key={index}>\n          <div className=\"p-2\" key={index}>\n            <h1 className=\"mb-4\">{title}</h1>\n            <Link to={`/bb/${bobj._id}`}>\n              <img className=\"img-fluid rounded shadow mb-3 bb-img-home\" src={bobj.imageUrl} alt=\"beer\" style={{ minWidth: '200px' }} />\n            </Link>\n            <p className=\"mb-0\">{rate}</p>\n            <StarRating itemId={bobj._id} setError={() => alert(\"Sorry, something went wrong.\")} />\n            <Link to={`/bb/${bobj._id}`} className=\"view-more\">View</Link>\n          </div>\n        </div>\n      )\n    })\n\n    return (\n      <>\n        <div id=\"chevron-attraction\" />\n        <div className=\"pt-6 pb-6 text-center special-events\" style={{ color: '#332212', backgroundColor: '#fff' }}>\n          <div className=\"row m-auto mt-6 justify-content-center align-items-center\">\n            <div className=\"col\">\n              <div className=\"slide-container\">\n                {error ? <p>Sorry, couldn't load BB's of the month</p> : isEmpty(handleBBRender) ? <p>Loading...</p> : handleBBRender}\n\n              </div>\n            </div>\n            <div className=\"col\">\n              <div className=\"text-left p-4\">\n                <h1 style={{ fontSize: '3rem' }}>The Book And Beer Of The Month</h1>\n                <div style={{\n                  padding: '1rem'\n                }}>\n                  {error ? <p>Sorry, couldn't load our summary</p> : isEmpty(handleBBRender) ? <p>Loading...</p> : handleBBDesRender}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </>\n    )\n  }\n}\n\n\nexport default CoolStuff;\n"],"sourceRoot":""}