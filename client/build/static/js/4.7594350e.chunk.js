(this.webpackJsonpbeersandbrewskies=this.webpackJsonpbeersandbrewskies||[]).push([[4],{307:function(e,t,n){var a={"./10547961582846888_1.jpg":308,"./11854078013954528_1.jpg":309,"./18532669286405344_1.jpg":310,"./18644119330491310_1.jpg":311,"./5619496040738316_1.jpg":312,"./6090484789343891_1.jpg":313,"./8552515751438644_1.jpg":314,"./876661122392077_1.jpg":315,"./9197907543445676_1.jpg":316};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=s,e.exports=r,r.id=307},308:function(e,t,n){e.exports=n.p+"static/media/10547961582846888_1.d376a881.jpg"},309:function(e,t,n){e.exports=n.p+"static/media/11854078013954528_1.d376a881.jpg"},310:function(e,t,n){e.exports=n.p+"static/media/18532669286405344_1.d376a881.jpg"},311:function(e,t,n){e.exports=n.p+"static/media/18644119330491310_1.d376a881.jpg"},312:function(e,t,n){e.exports=n.p+"static/media/5619496040738316_1.d376a881.jpg"},313:function(e,t,n){e.exports=n.p+"static/media/6090484789343891_1.d376a881.jpg"},314:function(e,t,n){e.exports=n.p+"static/media/8552515751438644_1.d376a881.jpg"},315:function(e,t,n){e.exports=n.p+"static/media/876661122392077_1.d376a881.jpg"},316:function(e,t,n){e.exports=n.p+"static/media/9197907543445676_1.d376a881.jpg"},317:function(e,t,n){},336:function(e,t,n){"use strict";n.r(t);var a=n(28),r=n(29),s=n(31),c=n(30),o=n(32),i=n(0),l=n.n(i),u=n(27),p=n(35),d=n.n(p),f=n(69),m=n.n(f),h=n(99),g={lowestprice:function(e,t){return e.price<t.price?-1:e.price>t.price?1:0},highestprice:function(e,t){return e.price>t.price?-1:e.price<t.price?1:0}},v=n(85),b=n(16),j=n(34),E=Object(u.b)(null,{addProduct:j.a})((function(e){var t=e.product,a=e.addProduct;t.quantity=1;var r=Object(b.a)(t.price,t.currencyId);return l.a.createElement("div",{className:"shelf-item",onClick:function(){return a(t)},"data-sku":t.sku},l.a.createElement(v.a,{classes:"shelf-item__thumb",src:n(307)("./".concat(t.sku,"_1.jpg")),alt:t.title}),l.a.createElement("p",{className:"shelf-item__title"},t.title),l.a.createElement("div",{className:"shelf-item__price"},l.a.createElement("div",{className:"val"},l.a.createElement("small",null,t.currencyFormat),l.a.createElement("b",null,r.substr(0,r.length-3)),l.a.createElement("span",null,r.substr(r.length-3,3)))),l.a.createElement("div",{className:"shelf-item__buy-btn"},"Add to cart"))})),_=function(e){return e.products.map((function(e){return l.a.createElement(E,{product:e,key:e.id})}))},y=n(100),k=function(e){var t=e.options,n=e.classes,a=e.handleOnChange;return l.a.createElement("select",{onChange:function(e){return a(e.target.value)},className:n},function(e){return e.map((function(e){return l.a.createElement("option",{value:e.value,key:e.value},e.label)}))}(t))},O=[{value:"",label:"Select"},{value:"lowestprice",label:"Lowest to highest"},{value:"highestprice",label:"Highest to lowest"}],w=Object(u.b)((function(e){return{sort:e.sort.type}}),{updateSort:function(e){return{type:y.a,payload:e}}})((function(e){var t=e.updateSort;e.sort;return l.a.createElement("div",{className:"sort"},"Order by",l.a.createElement(k,{options:O,handleOnChange:function(e){return t(e)}}))})),x=function(e){return l.a.createElement("div",{className:"shelf-container-header"},l.a.createElement("small",{className:"products-found"},l.a.createElement("span",null,e.productsLength," Product(s) found.")),l.a.createElement(w,null))},N=n(56),P=(n(317),function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={isLoading:!1,filters:n.props.filters,sort:n.props.sort},n.handleFetchProducts=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.filters,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.state.sort;n.setState({isLoading:!0}),n.props.fetchProducts(e,t,(function(){n.setState({isLoading:!1})}))},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchProducts()}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,a=n.filters,r=n.sort,s=t.filters,c=t.sort;a.length!==s.length&&this.handleFetchProducts(a,void 0),r!==c&&this.handleFetchProducts(void 0,r)}},{key:"render",value:function(){var e=this.props.products,t=this.state.isLoading;return l.a.createElement(l.a.Fragment,null,t&&l.a.createElement(N.a,null),l.a.createElement("div",{className:"shelf-container"},l.a.createElement(x,{productsLength:e.length}),l.a.createElement(_,{products:e})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.filters.length!==t.filters.length?{filters:e.filters}:e.sort!==t.sort?{sort:e.sort}:null}}]),t}(l.a.Component)),C=Object(u.b)((function(e){return{products:e.shelf.products,filters:e.filters.items,sort:e.sort.type}}),{fetchProducts:function(e,t,n){return function(a){var r,s;return d.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,d.a.awrap(m.a.get("/products"));case 3:r=c.sent,c.next=9;break;case 6:return c.prev=6,c.t0=c.catch(0),c.abrupt("return",console.log(c.t0.response));case 9:s=r.data,e&&e.length>0&&(s=s.filter((function(t){return e.find((function(e){return t.availableSizes.find((function(t){return t===e}))}))}))),t&&(s=s.sort(g[t])),n&&n(),a({type:h.a,payload:s});case 14:case"end":return c.stop()}}),null,null,[[0,6]])}}})(P),F=function(e){function t(){return Object(a.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"alert alert-warning alert-dismissible fade show text-center",role:"alert"},l.a.createElement("strong",null,"None of the items are for purchase. This is only for testing purposes."),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"row mt-6 d-block text-center mb-6",style:{borderBottom:"2px solid #fff",maxWidth:"500px",margin:"auto",padding:"10px"}},l.a.createElement("h1",null,"Store")),l.a.createElement("div",{className:"row m-auto d-block"},l.a.createElement(C,null)))}}]),t}(l.a.Component);t.default=F}}]);
//# sourceMappingURL=4.7594350e.chunk.js.map