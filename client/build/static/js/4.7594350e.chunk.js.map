{"version":3,"sources":["components/shop/static/products sync /^/.*_1/.jpg$","components/shop/static/products/10547961582846888_1.jpg","components/shop/static/products/11854078013954528_1.jpg","components/shop/static/products/18532669286405344_1.jpg","components/shop/static/products/18644119330491310_1.jpg","components/shop/static/products/5619496040738316_1.jpg","components/shop/static/products/6090484789343891_1.jpg","components/shop/static/products/8552515751438644_1.jpg","components/shop/static/products/876661122392077_1.jpg","components/shop/static/products/9197907543445676_1.jpg","services/shelf/actions.js","components/shop/components/shelf/components/Product.js","components/shop/components/shelf/components/ProductList.js","components/shop/components/shelf/components/Selectbox/index.js","components/shop/components/shelf/components/Sort/index.js","services/sort/actions.js","components/shop/components/shelf/components/ShelfHeader.js","components/shop/components/shelf/index.js","components/shop/index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","compare","lowestprice","a","b","price","highestprice","connect","addProduct","product","quantity","formattedPrice","formatPrice","currencyId","className","onClick","data-sku","sku","Thumb","classes","src","require","alt","title","currencyFormat","substr","length","ProductList","products","p","key","Selectbox","options","handleOnChange","onChange","target","value","label","createOptions","sortBy","state","sort","type","updateSort","UPDATE_SORT","payload","ShelfHeader","props","productsLength","Shelf","isLoading","filters","handleFetchProducts","setState","fetchProducts","this","prevProps","prevState","nextFilters","nextSort","undefined","Fragment","nextProps","React","Component","shelf","items","callback","dispatch","async","axios","get","response","console","log","data","filter","find","f","availableSizes","size","FETCH_PRODUCTS","Shop","window","scrollTo","role","data-dismiss","aria-label","aria-hidden","style","borderBottom","maxWidth","margin","padding"],"mappings":"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","file":"static/js/4.7594350e.chunk.js","sourcesContent":["var map = {\n\t\"./10547961582846888_1.jpg\": 308,\n\t\"./11854078013954528_1.jpg\": 309,\n\t\"./18532669286405344_1.jpg\": 310,\n\t\"./18644119330491310_1.jpg\": 311,\n\t\"./5619496040738316_1.jpg\": 312,\n\t\"./6090484789343891_1.jpg\": 313,\n\t\"./8552515751438644_1.jpg\": 314,\n\t\"./876661122392077_1.jpg\": 315,\n\t\"./9197907543445676_1.jpg\": 316\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 307;","module.exports = __webpack_public_path__ + \"static/media/10547961582846888_1.d376a881.jpg\";","module.exports = __webpack_public_path__ + \"static/media/11854078013954528_1.d376a881.jpg\";","module.exports = __webpack_public_path__ + \"static/media/18532669286405344_1.d376a881.jpg\";","module.exports = __webpack_public_path__ + \"static/media/18644119330491310_1.d376a881.jpg\";","module.exports = __webpack_public_path__ + \"static/media/5619496040738316_1.d376a881.jpg\";","module.exports = __webpack_public_path__ + \"static/media/6090484789343891_1.d376a881.jpg\";","module.exports = __webpack_public_path__ + \"static/media/8552515751438644_1.d376a881.jpg\";","module.exports = __webpack_public_path__ + \"static/media/876661122392077_1.d376a881.jpg\";","module.exports = __webpack_public_path__ + \"static/media/9197907543445676_1.d376a881.jpg\";","// import jsonApi from '../../apis/api';\r\nimport axios from 'axios';\r\nimport { FETCH_PRODUCTS } from './actionTypes';\r\n\r\nconst compare = {\r\n  lowestprice: (a, b) => {\r\n    if (a.price < b.price) return -1;\r\n    if (a.price > b.price) return 1;\r\n    return 0;\r\n  },\r\n  highestprice: (a, b) => {\r\n    if (a.price > b.price) return -1;\r\n    if (a.price < b.price) return 1;\r\n    return 0;\r\n  }\r\n};\r\n\r\nexport const fetchProducts = (filters, sortBy, callback) => async dispatch => {\r\n  let response;\r\n\r\n  try {\r\n   response = await axios.get('/products');\r\n  } catch (e) {\r\n    return console.log(e.response);\r\n  }\r\n\r\n  let products = response.data;\r\n\r\n    if (!!filters && filters.length > 0) {\r\n      products = products.filter(p =>\r\n        filters.find(f => p.availableSizes.find(size => size === f))\r\n      );\r\n    }\r\n\r\n    if (!!sortBy) {\r\n      products = products.sort(compare[sortBy]);\r\n    }\r\n\r\n    if (!!callback) {\r\n      callback();\r\n    }\r\n\r\n  dispatch({ type: FETCH_PRODUCTS, payload: products });\r\n}\r\n\r\n// export const fetchProducts = (filters, sortBy, callback) => dispatch => {\r\n//   return axios\r\n//     .get(productsAPI)\r\n//     .then(res => {\r\n//       let { products } = res.data;\r\n//\r\n//       if (!!filters && filters.length > 0) {\r\n//         products = products.filter(p =>\r\n//           filters.find(f => p.availableSizes.find(size => size === f))\r\n//         );\r\n//       }\r\n//\r\n//       if (!!sortBy) {\r\n//         products = products.sort(compare[sortBy]);\r\n//       }\r\n//\r\n//       if (!!callback) {\r\n//         callback();\r\n//       }\r\n//\r\n//       return dispatch({\r\n//         type: FETCH_PRODUCTS,\r\n//         payload: products\r\n//       });\r\n//     })\r\n//     .catch(err => {\r\n//       console.log('Could not fetch products. Try again later.');\r\n//     });\r\n// };\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Thumb from '../../Thumb';\r\nimport { formatPrice } from '../../util';\r\nimport { addProduct } from '../../../../../services/cart/actions';\r\n\r\nconst Product = ({ product, addProduct }) => {\r\n  product.quantity = 1;\r\n\r\n  let formattedPrice = formatPrice(product.price, product.currencyId);\r\n\r\n  return (\r\n    <div\r\n      className=\"shelf-item\"\r\n      onClick={() => addProduct(product)}\r\n      data-sku={product.sku}\r\n    >\r\n      <Thumb\r\n        classes=\"shelf-item__thumb\"\r\n        src={require(`../../../static/products/${product.sku}_1.jpg`)}\r\n        alt={product.title}\r\n      />\r\n      <p className=\"shelf-item__title\">{product.title}</p>\r\n      <div className=\"shelf-item__price\">\r\n        <div className=\"val\">\r\n          <small>{product.currencyFormat}</small>\r\n          <b>{formattedPrice.substr(0, formattedPrice.length - 3)}</b>\r\n          <span>{formattedPrice.substr(formattedPrice.length - 3, 3)}</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"shelf-item__buy-btn\">Add to cart</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nProduct.propTypes = {\r\n  product: PropTypes.object.isRequired,\r\n  addProduct: PropTypes.func.isRequired\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  { addProduct }\r\n)(Product);\r\n","import React from 'react';\r\n\r\nimport Product from './Product';\r\n\r\nconst ProductList = ({ products }) => {\r\n  return products.map(p => {\r\n    return <Product product={p} key={p.id} />;\r\n  });\r\n};\r\n\r\nexport default ProductList;\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Selectbox = ({ options, classes, handleOnChange }) => {\n  const createOptions = options =>\n    options.map(o => (\n      <option value={o.value} key={o.value}>\n        {o.label}\n      </option>\n    ));\n\n  return (\n    <select onChange={e => handleOnChange(e.target.value)} className={classes}>\n      {createOptions(options)}\n    </select>\n  );\n};\n\nSelectbox.propTypes = {\n  options: PropTypes.array.isRequired,\n  classes: PropTypes.string,\n  handleOnChange: PropTypes.func.isRequired\n};\n\nexport default Selectbox;\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { updateSort } from '../../../../../../services/sort/actions';\r\nimport Selectbox from '../Selectbox';\r\n\r\nconst sortBy = [\r\n  { value: '', label: 'Select' },\r\n  { value: 'lowestprice', label: 'Lowest to highest' },\r\n  { value: 'highestprice', label: 'Highest to lowest' }\r\n];\r\n\r\nconst Sort = ({ updateSort, sort }) => (\r\n  <div className=\"sort\">\r\n    Order by\r\n    <Selectbox options={sortBy} handleOnChange={value => updateSort(value)} />\r\n  </div>\r\n);\r\n\r\nSort.propTypes = {\r\n  updateSort: PropTypes.func.isRequired,\r\n  sort: PropTypes.string.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  sort: state.sort.type\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { updateSort }\r\n)(Sort);\r\n","import { UPDATE_SORT } from './actionTypes';\n\nexport const updateSort = sort => ({\n  type: UPDATE_SORT,\n  payload: sort\n});\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Sort from './Sort';\r\n\r\nconst ShelfHeader = props => {\r\n  return (\r\n    <div className=\"shelf-container-header\">\r\n      <small className=\"products-found\">\r\n        <span>{props.productsLength} Product(s) found.</span>\r\n      </small>\r\n      <Sort />\r\n    </div>\r\n  );\r\n};\r\n\r\nShelfHeader.propTypes = {\r\n  productsLength: PropTypes.number.isRequired\r\n};\r\n\r\nexport default ShelfHeader;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { fetchProducts } from '../../../../services/shelf/actions';\r\nimport ProductList from './components/ProductList';\r\nimport ShelfHeader from './components/ShelfHeader';\r\nimport Spinner from '../../../spinner';\r\nimport './css/style.scss';\r\n\r\nclass Shelf extends React.Component {\r\n  static propTypes = {\r\n    fetchProducts: PropTypes.func.isRequired,\r\n    products: PropTypes.array.isRequired,\r\n    filters: PropTypes.array,\r\n    sort: PropTypes.string\r\n  };\r\n\r\n  state = {\r\n    isLoading: false,\r\n    filters: this.props.filters,\r\n    sort: this.props.sort\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.fetchProducts();\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n  if (nextProps.filters.length !== prevState.filters.length) {\r\n    return { filters: nextProps.filters };\r\n  }\r\n\r\n  if (nextProps.sort !== prevState.sort) {\r\n    return { sort: nextProps.sort };\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\ncomponentDidUpdate(prevProps, prevState) {\r\n  const { filters: nextFilters, sort: nextSort } = this.state;\r\n  const { filters, sort } = prevState;\r\n\r\n  if (nextFilters.length !== filters.length) {\r\n    this.handleFetchProducts(nextFilters, undefined);\r\n  }\r\n\r\n  if (nextSort !== sort) {\r\n    this.handleFetchProducts(undefined, nextSort);\r\n  }\r\n}\r\n\r\nhandleFetchProducts = (\r\n  filters = this.state.filters,\r\n  sort = this.state.sort\r\n) => {\r\n  this.setState({ isLoading: true });\r\n  this.props.fetchProducts(filters, sort, () => {\r\n    this.setState({ isLoading: false });\r\n  });\r\n};\r\n\r\n  render() {\r\n    const { products } = this.props;\r\n    const { isLoading } = this.state;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {isLoading && <Spinner />}\r\n        <div className=\"shelf-container\">\r\n          <ShelfHeader productsLength={products.length} />\r\n          <ProductList products={products} />\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  products: state.shelf.products,\r\n  filters: state.filters.items,\r\n  sort: state.sort.type\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchProducts }\r\n)(Shelf);\r\n","import React from 'react';\r\n\r\nimport Shelf from './components/shelf';\r\n// import Filter from './components/shelf/components/Filter';\r\n\r\nclass Shop extends React.Component {\r\n\r\n  componentDidMount() {\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  render() {\r\n    const titleStyle = {\r\n      borderBottom: \"2px solid #fff\",\r\n      maxWidth: \"500px\",\r\n      margin: \"auto\",\r\n      padding: \"10px\"\r\n    }\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {/* <Filter /> */}\r\n        <div className=\"alert alert-warning alert-dismissible fade show text-center\" role=\"alert\">\r\n          <strong>None of the items are for purchase. This is only for testing purposes.</strong>\r\n          <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n        </div>\r\n        <div className='row mt-6 d-block text-center mb-6' style={titleStyle}>\r\n          <h1>Store</h1>\r\n        </div>\r\n        <div className=\"row m-auto d-block\">\r\n          <Shelf />\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n};\r\n\r\nexport default Shop;\r\n"],"sourceRoot":""}