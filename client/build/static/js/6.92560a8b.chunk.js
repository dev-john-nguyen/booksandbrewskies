(this.webpackJsonpbeersandbrewskies=this.webpackJsonpbeersandbrewskies||[]).push([[6],{202:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o}));var r=a(29),n=a.n(r),l=a(49),c=a(48),s=a.n(c),m=a(199),i=function(){var e=Object(l.a)(n.a.mark((function e(t,a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(m.isEmpty)(t)){e.next=2;break}throw Object.assign(new Error("No Rating"),{code:402});case 2:if(!Object(m.isEmpty)(a)){e.next=4;break}throw Object.assign(new Error("Id is empty"),{code:402});case 4:return e.prev=4,e.next=7,s.a.post("/reviews/rating",{rating:t,id:a});case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",{err:"Sorry, we are having issues submitting your rating"});case 13:return e.abrupt("return",{rating:t});case 14:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t,a){return e.apply(this,arguments)}}(),o=function(){var e=Object(l.a)(n.a.mark((function e(t,a,r){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(m.isEmpty)(a)){e.next=2;break}throw Object.assign(new Error("No Comment"),{code:402});case 2:if(!Object(m.isEmpty)(t)){e.next=4;break}throw Object.assign(new Error("No Name"),{code:402});case 4:if(!Object(m.isEmpty)(r)){e.next=6;break}throw Object.assign(new Error("Id is Empty"),{code:402});case 6:return e.prev=6,e.next=9,s.a.post("/reviews/comment",{name:t,comment:a,id:r});case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(6),console.log(e.t0),e.abrupt("return",{err:"Sorry, we are having issues submitting your comment"});case 15:return e.abrupt("return",{name:t,comment:a});case 16:case"end":return e.stop()}}),e,null,[[6,11]])})));return function(t,a,r){return e.apply(this,arguments)}}()},207:function(e,t,a){"use strict";var r=a(20),n=a(21),l=a(23),c=a(22),s=a(0),m=a.n(s),i=a(202),o=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleOnClick=function(e){var t=n.props,a=t.itemId,r=t.setError;Object(i.b)(e.currentTarget.name,a).then((function(e){if(e.err)return r();n.setState({rating:e.rating})})).catch((function(e){console.log(e),r()}))},n.state={rating:0,hover:0,error:!1},n}return Object(n.a)(a,[{key:"render",value:function(){var e=this,t=this.props.itemId,a=m.a.createElement("svg",{className:"bi bi-check-circle",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},m.a.createElement("path",{fillRule:"evenodd",d:"M15.354 2.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3-3a.5.5 0 11.708-.708L8 9.293l6.646-6.647a.5.5 0 01.708 0z",clipRule:"evenodd"}),m.a.createElement("path",{fillRule:"evenodd",d:"M8 2.5A5.5 5.5 0 1013.5 8a.5.5 0 011 0 6.5 6.5 0 11-3.25-5.63.5.5 0 11-.5.865A5.472 5.472 0 008 2.5z",clipRule:"evenodd"})),r=m.a.createElement("svg",{className:"bi bi-star",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},m.a.createElement("path",{fillRule:"evenodd",d:"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 00-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 00-.163-.505L1.71 6.745l4.052-.576a.525.525 0 00.393-.288l1.847-3.658 1.846 3.658a.525.525 0 00.393.288l4.052.575-2.906 2.77a.564.564 0 00-.163.506l.694 3.957-3.686-1.894a.503.503 0 00-.461 0z",clipRule:"evenodd"})),n=m.a.createElement("svg",{className:"bi bi-star-fill",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},m.a.createElement("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})),l=[];if(0===this.state.rating)for(var c=1;c<6;c++)l.push(m.a.createElement("a",{className:"p-1 mb-0",key:t+c,name:c,onClick:this.handleOnClick,onMouseOver:function(t){return e.setState({hover:parseInt(t.currentTarget.name)})},style:this.state.hover>=c?{color:"#eabf00"}:{}},r));else for(var s=1;s<6;s++)this.state.rating>=s?l.push(m.a.createElement("p",{className:"p-1 mb-0 rated",key:t+s},n)):l.push(m.a.createElement("p",{className:"p-1 mb-0 rated",key:t+s},r));return m.a.createElement("div",{className:"star d-flex user-star-rating",onMouseLeave:function(){return e.setState({hover:0})}},l,0!==this.state.rating&&a)}}]),a}(m.a.Component);t.a=o},208:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var r=a(0),n=a.n(r),l=n.a.createElement("svg",{className:"bi bi-star",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{fillRule:"evenodd",d:"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 00-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 00-.163-.505L1.71 6.745l4.052-.576a.525.525 0 00.393-.288l1.847-3.658 1.846 3.658a.525.525 0 00.393.288l4.052.575-2.906 2.77a.564.564 0 00-.163.506l.694 3.957-3.686-1.894a.503.503 0 00-.461 0z",clipRule:"evenodd"})),c=n.a.createElement("svg",{className:"bi bi-star-fill",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})),s=n.a.createElement("svg",{className:"bi bi-star-half",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{fillRule:"evenodd",d:"M5.354 5.119L7.538.792A.516.516 0 018 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0116 6.32a.55.55 0 01-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.519.519 0 01-.146.05c-.341.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 01-.171-.403.59.59 0 01.084-.302.513.513 0 01.37-.245l4.898-.696zM8 12.027c.08 0 .16.018.232.056l3.686 1.894-.694-3.957a.564.564 0 01.163-.505l2.906-2.77-4.052-.576a.525.525 0 01-.393-.288L8.002 2.223 8 2.226v9.8z",clipRule:"evenodd"})),m=function(e){e.length<1&&e.push(0);for(var t=0,a=0;a<e.length;a++)t+=parseInt(e[a],10);var r=t/e.length;r%1!==0&&(r=r.toFixed(1));for(var m=[],i=1;i<6;i++)r>=i?m.push(n.a.createElement("p",{className:"p-1",key:"avg"+i},c)):r<=i-.5&&r>i-1?m.push(n.a.createElement("p",{className:"p-1",key:"avg"+i},s)):m.push(n.a.createElement("p",{className:"p-1",key:"avg"+i},l));return{avgCustomerRating:r,avgCustStarRating:m}}},266:function(e,t,a){"use strict";a.r(t);var r=a(29),n=a.n(r),l=a(49),c=a(17),s=a(0),m=a.n(s),i=a(48),o=a.n(i),u=a(36),p=a(208),d=a(199),b=a(207),h=a(202),v=a(61);t.default=function(e){var t=e.match,a=Object(s.useState)(),r=Object(c.a)(a,2),i=r[0],f=r[1],g=Object(s.useState)(!1),E=Object(c.a)(g,2),w=E[0],N=E[1],x=Object(s.useState)(""),y=Object(c.a)(x,2),O=y[0],_=y[1],j=Object(s.useState)(""),k=Object(c.a)(j,2),L=k[0],C=k[1],R=Object(s.useState)({}),z=Object(c.a)(R,2),S=z[0],M=z[1],B=Object(s.useState)(!1),A=Object(c.a)(B,2),I=A[0],T=A[1],D=Object(s.useState)(!1),F=Object(c.a)(D,2),J=F[0],H=F[1];if(Object(s.useEffect)((function(){function e(){return(e=Object(l.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/reviews/beer",{params:{id:t.params.id}}).then((function(e){f(e.data)})).catch((function(e){N(!0)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.scrollTo(0,0),function(){e.apply(this,arguments)}()}),[t.params.id]),w)return m.a.createElement(v.default,{text:"Oops! Something went wrong.",body:"Couldn't find what you were looking for"});if(i){for(var P=i.myReview,U=i.ratings,W=i.type,q=i.name,G=i.imageUrl,K=i.description,Q=i.comments,V=i._id,X=i.bio,Y=i.style,Z=P.rating,$=P.comment,ee=m.a.createElement("svg",{className:"bi bi-star",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},m.a.createElement("path",{fillRule:"evenodd",d:"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 00-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 00-.163-.505L1.71 6.745l4.052-.576a.525.525 0 00.393-.288l1.847-3.658 1.846 3.658a.525.525 0 00.393.288l4.052.575-2.906 2.77a.564.564 0 00-.163.506l.694 3.957-3.686-1.894a.503.503 0 00-.461 0z",clipRule:"evenodd"})),te=m.a.createElement("svg",{className:"bi bi-star-fill",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},m.a.createElement("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})),ae=m.a.createElement("svg",{className:"bi bi-star-half",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},m.a.createElement("path",{fillRule:"evenodd",d:"M5.354 5.119L7.538.792A.516.516 0 018 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0116 6.32a.55.55 0 01-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.519.519 0 01-.146.05c-.341.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 01-.171-.403.59.59 0 01.084-.302.513.513 0 01.37-.245l4.898-.696zM8 12.027c.08 0 .16.018.232.056l3.686 1.894-.694-3.957a.564.564 0 01.163-.505l2.906-2.77-4.052-.576a.525.525 0 01-.393-.288L8.002 2.223 8 2.226v9.8z",clipRule:"evenodd"})),re=[],ne=1;ne<6;ne++)Z>=ne?re.push(m.a.createElement("p",{className:"p-1",key:ne},te)):Z.rating<=ne-.5&&Z.rating>ne-1?re.push(m.a.createElement("p",{className:"p-1",key:ne},ae)):re.push(m.a.createElement("p",{className:"p-1",key:ne},ee));var le=Object(p.a)(U);Object(d.isEmpty)(S)||(Q.push(S),M({}));var ce=[];return Object(d.isEmpty)(Q)||(ce=Q.map((function(e,t){return m.a.createElement("div",{className:"beer__comments_item",key:t},m.a.createElement("img",{src:window.location.origin+"/media/logo.png",className:"mr-3",alt:"BB"}),m.a.createElement("div",{className:"beer__comments_item-text"},m.a.createElement("p",{className:"mt-0 mb-0"},e.name),m.a.createElement("p",null,e.comment)))}))),m.a.createElement("div",{className:"beer"},m.a.createElement("div",{className:"beer__header"},m.a.createElement("div",{className:"beer__text"},m.a.createElement("h1",null,q))),m.a.createElement("div",{className:"beer__content"},m.a.createElement("div",{className:"beer__content__section"},m.a.createElement("div",{className:"beer__content__img"},m.a.createElement("img",{src:G,className:"img-fluid rounded shadow",alt:"item",style:{width:"400px",height:"505px"}})),m.a.createElement("div",{className:"beer__content__text"},m.a.createElement("h2",{className:"beer__content_title"},q),m.a.createElement("div",{className:"d-flex"},"Type: ",m.a.createElement("p",{className:"mb-2 ml-2 text-capitalize"},W)),m.a.createElement("div",{className:"d-flex"},"Style: ",m.a.createElement("p",{className:"mb-2 ml-2 text-capitalize"},Y)),m.a.createElement("div",{className:"d-flex"},"From: ",m.a.createElement("p",{className:"mb-2 ml-2"},K)),m.a.createElement("div",{className:"d-flex"},m.a.createElement("p",null,"Our",m.a.createElement("br",null),"Rating:"),m.a.createElement("div",{className:"beer__content_star d-flex mb-2 ml-2"},re,m.a.createElement("p",null,Z))),m.a.createElement("div",{className:"d-flex"},m.a.createElement("p",null,"Average",m.a.createElement("br",null),"Rating:"),m.a.createElement("div",{className:"beer__content_star d-flex mb-2 ml-2"},le.avgCustStarRating,m.a.createElement("p",null,le.avgCustomerRating))),m.a.createElement("div",{className:"d-flex"},"Our",m.a.createElement("br",null),"Comment:",m.a.createElement("p",{className:"mb-2 ml-2 text-capitalize"},$)),m.a.createElement("div",{className:"d-flex"},"Description:",m.a.createElement("p",{className:"mb-2 ml-2 text-capitalize"},X)))),m.a.createElement("div",{className:"beer__comments"},Object(d.isEmpty)(ce)?m.a.createElement("p",null,"No Comments"):ce),m.a.createElement("div",{className:"beer__comment-form"},I&&m.a.createElement("p",{className:"text-danger"},"Please fill out all fields"),m.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),H(!0),Object(d.isEmpty)(O)||Object(d.isEmpty)(L))return T(!0),void H(!1);Object(h.a)(O,L,i._id).then((function(e){M({name:e.name,comment:e.comment}),C(""),H(!1)})).catch((function(e){console.log(e),N(!0),H(!1)}))}},m.a.createElement("div",{className:"form-group"},m.a.createElement("input",{type:"text",className:"form-control",placeholder:"Name",name:"Name",onChange:function(e){return _(e.target.value)},value:O})),m.a.createElement("div",{className:"form-group"},m.a.createElement("textarea",{type:"text",className:"form-control",maxLength:"500",placeholder:"What do you think?",name:"Comment",onChange:function(e){return C(e.target.value)},value:L,style:{minHeight:"150px"}})),m.a.createElement("div",{className:"beer__footer"},m.a.createElement("p",null,"Rating"),m.a.createElement("div",{className:"beer__footer_star"},m.a.createElement(b.a,{itemId:V,setError:function(){return N(!0)}})),m.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},J&&m.a.createElement("span",{className:"spinner-border spinner-border-sm mb-1",role:"status","aria-hidden":"true"}),"Submit"))))))}return m.a.createElement(u.a,null)}}}]);
//# sourceMappingURL=6.92560a8b.chunk.js.map