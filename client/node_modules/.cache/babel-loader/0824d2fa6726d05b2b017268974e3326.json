{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\John\\\\Desktop\\\\Modern React With Redux Projects\\\\beersandbrewskiesproject\\\\booksandbrewskies_dev\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\John\\\\Desktop\\\\Modern React With Redux Projects\\\\beersandbrewskiesproject\\\\booksandbrewskies_dev\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\John\\\\Desktop\\\\Modern React With Redux Projects\\\\beersandbrewskiesproject\\\\booksandbrewskies_dev\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\John\\\\Desktop\\\\Modern React With Redux Projects\\\\beersandbrewskiesproject\\\\booksandbrewskies_dev\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\John\\\\Desktop\\\\Modern React With Redux Projects\\\\beersandbrewskiesproject\\\\booksandbrewskies_dev\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{connect}from'react-redux';import{loadCart,removeProduct,changeProductQuantity}from'../../../../services/cart/actions';import{updateCart}from'../../../../services/total/actions';import CartProduct from'./components/CartProduct';import{formatPrice,getSessionStorageUpdateCart,updateSessionStorage}from'../util';import{Link}from'react-router-dom';import'./css/style.scss';var FloatCart=/*#__PURE__*/function(_Component){_inherits(FloatCart,_Component);function FloatCart(props){var _this;_classCallCheck(this,FloatCart);_this=_possibleConstructorReturn(this,_getPrototypeOf(FloatCart).call(this,props));_this.state={newProduct:_this.props.newProduct,productToChange:_this.props.productToChange,productToRemove:_this.props.productToRemove,isOpen:false};_this.openFloatCart=function(){_this.setState({isOpen:true});};_this.closeFloatCart=function(){_this.setState({isOpen:false});};_this.addProduct=function(product){var _this$props=_this.props,cartProducts=_this$props.cartProducts,updateCart=_this$props.updateCart;var productAlreadyInCart=false;cartProducts.forEach(function(cp){if(cp.id===product.id){cp.quantity+=product.quantity;productAlreadyInCart=true;}});if(!productAlreadyInCart){cartProducts.push(product);}updateCart(cartProducts);_this.openFloatCart();};_this.removeProduct=function(product){var _this$props2=_this.props,cartProducts=_this$props2.cartProducts,updateCart=_this$props2.updateCart;var index=cartProducts.findIndex(function(p){return p.id===product.id;});if(index>=0){cartProducts.splice(index,1);updateCart(cartProducts);}};_this.changeProductQuantity=function(changedProduct){var _this$props3=_this.props,cartProducts=_this$props3.cartProducts,updateCart=_this$props3.updateCart;var product=cartProducts.find(function(p){return p.id===changedProduct.id;});product.quantity=changedProduct.quantity;if(product.quantity<=0){_this.removeProduct(product);}updateCart(cartProducts);};var _cartProducts=props.cartProducts,cartTotal=props.cartTotal;getSessionStorageUpdateCart(_cartProducts,cartTotal);return _this;}_createClass(FloatCart,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(prevState.newProduct!==this.state.newProduct){this.addProduct(this.state.newProduct);}if(prevState.productToRemove!==this.state.productToRemove){this.removeProduct(this.state.productToRemove);}if(prevState.productToChange!==this.state.productToChange){this.changeProductQuantity(this.state.productToChange);}var _this$props4=this.props,cartProducts=_this$props4.cartProducts,cartTotal=_this$props4.cartTotal;updateSessionStorage(cartProducts,cartTotal);}// componentDidMount() {\n//   const {cartProducts, cartTotal} = this.props;\n//   getSessionStorageUpdateCart(cartProducts, cartTotal);\n//   console.log(\"Did Mount\");\n// }\n},{key:\"render\",value:function render(){var _this2=this;var _this$props5=this.props,cartTotal=_this$props5.cartTotal,cartProducts=_this$props5.cartProducts,removeProduct=_this$props5.removeProduct,changeProductQuantity=_this$props5.changeProductQuantity;var products=cartProducts.map(function(p){return React.createElement(CartProduct,{product:p,removeProduct:removeProduct,changeProductQuantity:changeProductQuantity,key:p.id});});var classes=['float-cart'];if(!!this.state.isOpen){classes.push('float-cart--open');}return React.createElement(\"div\",{className:classes.join(' ')},this.state.isOpen&&React.createElement(\"div\",{onClick:function onClick(){return _this2.closeFloatCart();},className:\"float-cart__close-btn\"},\"X\"),!this.state.isOpen&&React.createElement(\"span\",{onClick:function onClick(){return _this2.openFloatCart();},className:\"bag bag--float-cart-closed\"},React.createElement(\"span\",{className:\"bag__quantity\"},cartTotal.productQuantity)),React.createElement(\"div\",{className:\"float-cart__content\"},React.createElement(\"div\",{className:\"float-cart__header\"},React.createElement(\"span\",{className:\"bag\"},React.createElement(\"span\",{className:\"bag__quantity\"},cartTotal.productQuantity)),React.createElement(\"span\",{className:\"header-title\"},\"Cart\")),React.createElement(\"div\",{className:\"float-cart__shelf-container\"},products,!products.length&&React.createElement(\"p\",{className:\"shelf-empty\"},\"Add some products in the cart \",React.createElement(\"br\",null),\":)\")),React.createElement(\"div\",{className:\"float-cart__footer\"},React.createElement(\"div\",{className:\"sub\"},\"SUBTOTAL\"),React.createElement(\"div\",{className:\"sub-price\"},React.createElement(\"p\",{className:\"sub-price__val\"},\"\".concat(cartTotal.currencyFormat,\" \").concat(formatPrice(cartTotal.totalPrice,cartTotal.currencyId)))),React.createElement(Link,{to:\"/shop/checkout\",className:\"buy-btn\",onClick:this.openFloatCart},\"Checkout\"))));}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(nextProps,prevState){if(nextProps.newProduct!==prevState.newProduct){return{newProduct:nextProps.newProduct};}if(nextProps.productToRemove!==prevState.productToRemove){return{productToRemove:nextProps.productToRemove};}if(nextProps.productToChange!==prevState.productToChange){return{productToChange:nextProps.productToChange};}return null;}}]);return FloatCart;}(Component);var mapStateToProps=function mapStateToProps(state){return{cartProducts:state.cart.products,newProduct:state.cart.productToAdd,productToRemove:state.cart.productToRemove,productToChange:state.cart.productToChange,cartTotal:state.total.data};};export default connect(mapStateToProps,{loadCart:loadCart,updateCart:updateCart,removeProduct:removeProduct,changeProductQuantity:changeProductQuantity})(FloatCart);","map":{"version":3,"sources":["C:/Users/John/Desktop/Modern React With Redux Projects/beersandbrewskiesproject/booksandbrewskies_dev/client/src/components/shop/components/floatcart/index.js"],"names":["React","Component","connect","loadCart","removeProduct","changeProductQuantity","updateCart","CartProduct","formatPrice","getSessionStorageUpdateCart","updateSessionStorage","Link","FloatCart","props","state","newProduct","productToChange","productToRemove","isOpen","openFloatCart","setState","closeFloatCart","addProduct","product","cartProducts","productAlreadyInCart","forEach","cp","id","quantity","push","index","findIndex","p","splice","changedProduct","find","cartTotal","prevProps","prevState","products","map","classes","join","productQuantity","length","currencyFormat","totalPrice","currencyId","nextProps","mapStateToProps","cart","productToAdd","total","data"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { loadCart, removeProduct, changeProductQuantity } from '../../../../services/cart/actions';\r\nimport { updateCart } from '../../../../services/total/actions';\r\nimport CartProduct from './components/CartProduct';\r\nimport { formatPrice, getSessionStorageUpdateCart, updateSessionStorage } from '../util';\r\nimport { Link } from 'react-router-dom';\r\nimport './css/style.scss';\r\n\r\nclass FloatCart extends Component {\r\n  static propTypes = {\r\n     loadCart: PropTypes.func.isRequired,\r\n     updateCart: PropTypes.func.isRequired,\r\n     cartProducts: PropTypes.array.isRequired,\r\n     newProduct: PropTypes.object,\r\n     removeProduct: PropTypes.func,\r\n     productToRemove: PropTypes.object,\r\n     changeProductQuantity: PropTypes.func,\r\n     productToChange: PropTypes.object\r\n   };\r\n\r\n   constructor(props){\r\n     super(props);\r\n\r\n     const {cartProducts, cartTotal} = props;\r\n     getSessionStorageUpdateCart(cartProducts, cartTotal);\r\n   }\r\n\r\n   state = {\r\n     newProduct: this.props.newProduct,\r\n     productToChange: this.props.productToChange,\r\n     productToRemove: this.props.productToRemove,\r\n     isOpen: false\r\n   };\r\n\r\n   static getDerivedStateFromProps(nextProps, prevState) {\r\n\r\n     if (nextProps.newProduct !== prevState.newProduct) {\r\n       return { newProduct : nextProps.newProduct }\r\n     }\r\n\r\n     if(nextProps.productToRemove !== prevState.productToRemove){\r\n       return { productToRemove: nextProps.productToRemove };\r\n     }\r\n\r\n     if (nextProps.productToChange !== prevState.productToChange) {\r\n       return { productToChange: nextProps.productToChange };\r\n     }\r\n     return null;\r\n   }\r\n\r\n   componentDidUpdate(prevProps, prevState){\r\n     if(prevState.newProduct !== this.state.newProduct){\r\n       this.addProduct(this.state.newProduct);\r\n     }\r\n\r\n     if (prevState.productToRemove !== this.state.productToRemove) {\r\n       this.removeProduct(this.state.productToRemove);\r\n     }\r\n\r\n     if (prevState.productToChange !== this.state.productToChange) {\r\n       this.changeProductQuantity(this.state.productToChange);\r\n     }\r\n\r\n     const {cartProducts, cartTotal} = this.props;\r\n     updateSessionStorage(cartProducts, cartTotal);\r\n\r\n   }\r\n\r\n   // componentDidMount() {\r\n   //   const {cartProducts, cartTotal} = this.props;\r\n   //   getSessionStorageUpdateCart(cartProducts, cartTotal);\r\n   //   console.log(\"Did Mount\");\r\n   // }\r\n\r\n  openFloatCart = () => {\r\n    this.setState({ isOpen: true });\r\n  };\r\n\r\n  closeFloatCart = () => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n\r\n  addProduct = product => {\r\n    const { cartProducts, updateCart } = this.props;\r\n    let productAlreadyInCart = false;\r\n\r\n    cartProducts.forEach(cp => {\r\n      if (cp.id === product.id) {\r\n        cp.quantity += product.quantity;\r\n        productAlreadyInCart = true;\r\n      }\r\n    });\r\n\r\n    if (!productAlreadyInCart) {\r\n      cartProducts.push(product);\r\n    }\r\n\r\n    updateCart(cartProducts);\r\n\r\n    this.openFloatCart();\r\n  };\r\n\r\n  removeProduct = product => {\r\n    const { cartProducts, updateCart } = this.props;\r\n\r\n    const index = cartProducts.findIndex(p => p.id === product.id);\r\n    if (index >= 0) {\r\n      cartProducts.splice(index, 1);\r\n      updateCart(cartProducts);\r\n    }\r\n  };\r\n\r\n  changeProductQuantity = changedProduct => {\r\n    const { cartProducts, updateCart } = this.props;\r\n\r\n    const product = cartProducts.find(p => p.id === changedProduct.id);\r\n    product.quantity = changedProduct.quantity;\r\n    if (product.quantity <= 0) {\r\n      this.removeProduct(product);\r\n    }\r\n    updateCart(cartProducts);\r\n  }\r\n\r\n  render() {\r\n    const { cartTotal, cartProducts, removeProduct, changeProductQuantity } = this.props;\r\n\r\n    const products = cartProducts.map(p => {\r\n      return (\r\n        <CartProduct product={p} removeProduct={removeProduct} changeProductQuantity={changeProductQuantity} key={p.id} />\r\n      );\r\n    });\r\n\r\n    let classes = ['float-cart'];\r\n\r\n    if (!!this.state.isOpen) {\r\n      classes.push('float-cart--open');\r\n    }\r\n\r\n    return (\r\n      <div className={classes.join(' ')}>\r\n        {/* If cart open, show close (x) button */}\r\n        {this.state.isOpen && (\r\n          <div\r\n            onClick={() => this.closeFloatCart()}\r\n            className=\"float-cart__close-btn\"\r\n          >\r\n            X\r\n          </div>\r\n        )}\r\n\r\n        {/* If cart is closed, show bag with quantity of product and open cart action */}\r\n        {!this.state.isOpen && (\r\n          <span\r\n            onClick={() => this.openFloatCart()}\r\n            className=\"bag bag--float-cart-closed\"\r\n          >\r\n            <span className=\"bag__quantity\">{cartTotal.productQuantity}</span>\r\n          </span>\r\n        )}\r\n\r\n        <div className=\"float-cart__content\">\r\n          <div className=\"float-cart__header\">\r\n            <span className=\"bag\">\r\n              <span className=\"bag__quantity\">{cartTotal.productQuantity}</span>\r\n            </span>\r\n            <span className=\"header-title\">Cart</span>\r\n          </div>\r\n\r\n          <div className=\"float-cart__shelf-container\">\r\n            {products}\r\n            {!products.length && (\r\n              <p className=\"shelf-empty\">\r\n                Add some products in the cart <br />\r\n                :)\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"float-cart__footer\">\r\n            <div className=\"sub\">SUBTOTAL</div>\r\n            <div className=\"sub-price\">\r\n              <p className=\"sub-price__val\">\r\n                {`${cartTotal.currencyFormat} ${formatPrice(\r\n                  cartTotal.totalPrice,\r\n                  cartTotal.currencyId\r\n                )}`}\r\n              </p>\r\n            </div>\r\n            <Link to=\"/shop/checkout\" className=\"buy-btn\" onClick={this.openFloatCart}>Checkout</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  cartProducts: state.cart.products,\r\n  newProduct: state.cart.productToAdd,\r\n  productToRemove: state.cart.productToRemove,\r\n  productToChange: state.cart.productToChange,\r\n  cartTotal: state.total.data\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {loadCart, updateCart, removeProduct, changeProductQuantity }\r\n)(FloatCart);\r\n"]},"metadata":{},"sourceType":"module"}