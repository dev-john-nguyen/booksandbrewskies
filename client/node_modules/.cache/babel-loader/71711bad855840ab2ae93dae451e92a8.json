{"ast":null,"code":"import axios from 'axios';\nimport Stripe from 'stripe';\nexport const stripe = products => async dispatch => {\n  console.log(products);\n  console.log(`../../../static/products/${product[0].sku}_1.jpg`);\n  console.log(window.location.hostname);\n  let response; // const response = await contacts.post('/contacts/add', {...formValues});\n\n  try {\n    response = await axios.post('/shop/checkout', products);\n  } catch (e) {\n    return console.log(e);\n  }\n\n  console.log(response.data.sessionId);\n  const stripe = window.Stripe('pk_test_0kzCXvF6peItv0Z0FZ6QFG0j');\n  console.log(stripe);\n  stripe.redirectToCheckout({\n    sessionId: response.data.sessionId\n  }).then(function (result) {// If `redirectToCheckout` fails due to a browser or network\n    // error, display the localized error message to your customer\n    // using `result.error.message`.\n  }); // history.push('/contact?success');\n};","map":{"version":3,"sources":["C:/Users/John/Desktop/Modern React With Redux Projects/beersandbrewskies/beersandbrewskies/src/services/stripe/actions.js"],"names":["axios","Stripe","stripe","products","dispatch","console","log","product","sku","window","location","hostname","response","post","e","data","sessionId","redirectToCheckout","then","result"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,OAAO,MAAMC,MAAM,GAAIC,QAAD,IAAc,MAAOC,QAAP,IAAoB;AACtDC,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAa,4BAA2BC,OAAO,CAAC,CAAD,CAAP,CAAWC,GAAI,QAAvD;AACAH,EAAAA,OAAO,CAACC,GAAR,CAAYG,MAAM,CAACC,QAAP,CAAgBC,QAA5B;AAEA,MAAIC,QAAJ,CALsD,CAMtD;;AACA,MAAI;AACHA,IAAAA,QAAQ,GAAG,MAAMZ,KAAK,CAACa,IAAN,CAAW,gBAAX,EAA6BV,QAA7B,CAAjB;AACA,GAFD,CAEE,OAAOW,CAAP,EAAU;AACZ,WAAOT,OAAO,CAACC,GAAR,CAAYQ,CAAZ,CAAP;AACC;;AACDT,EAAAA,OAAO,CAACC,GAAR,CAAYM,QAAQ,CAACG,IAAT,CAAcC,SAA1B;AAEA,QAAMd,MAAM,GAAGO,MAAM,CAACR,MAAP,CAAc,kCAAd,CAAf;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;AACAA,EAAAA,MAAM,CAACe,kBAAP,CAA0B;AAC1BD,IAAAA,SAAS,EAAEJ,QAAQ,CAACG,IAAT,CAAcC;AADC,GAA1B,EAECE,IAFD,CAEM,UAAUC,MAAV,EAAkB,CACxB;AACA;AACA;AACD,GANC,EAhBsD,CAyBtD;AACD,CA1BM","sourcesContent":["import axios from 'axios';\r\nimport Stripe from 'stripe';\r\n\r\nexport const stripe = (products) => async (dispatch) => {\r\n  console.log(products);\r\n  console.log(`../../../static/products/${product[0].sku}_1.jpg`);\r\n  console.log(window.location.hostname);\r\n\r\n  let response;\r\n  // const response = await contacts.post('/contacts/add', {...formValues});\r\n  try {\r\n   response = await axios.post('/shop/checkout', products);\r\n  } catch (e) {\r\n  return console.log(e);\r\n  }\r\n  console.log(response.data.sessionId);\r\n\r\n  const stripe = window.Stripe('pk_test_0kzCXvF6peItv0Z0FZ6QFG0j');\r\n  console.log(stripe);\r\n  stripe.redirectToCheckout({\r\n  sessionId: response.data.sessionId\r\n}).then(function (result) {\r\n  // If `redirectToCheckout` fails due to a browser or network\r\n  // error, display the localized error message to your customer\r\n  // using `result.error.message`.\r\n});\r\n\r\n\r\n  // history.push('/contact?success');\r\n};\r\n"]},"metadata":{},"sourceType":"module"}