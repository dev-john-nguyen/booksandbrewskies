{"ast":null,"code":"import axios from 'axios';\nimport Stripe from 'stripe';\nexport const stripe = (cartTotal, cartProducts) => async dispatch => {\n  const image = `${window.location.hostname}:3000/static/media/home-background-img.40b4543e.jpg`;\n  var description = \"\";\n  cartProducts.forEach((item, i) => {\n    if (i < cartProducts.length - 1) {\n      description += item.title + ', ';\n    } else {\n      description += 'and ' + item.title;\n    }\n  });\n  console.log(description); // const name = \"\"\n  // formValues = {\n  //   name:\n  //   cartTotal: cartTotal,\n  //   description: description,\n  //   image: image,\n  //\n  // }\n  //   let response;\n  //   // const response = await contacts.post('/contacts/add', {...formValues});\n  //   try {\n  //    response = await axios.post('/shop/checkout', products);\n  //   } catch (e) {\n  //   return console.log(e);\n  //   }\n  //   console.log(response.data.sessionId);\n  //\n  //   const stripe = window.Stripe('pk_test_0kzCXvF6peItv0Z0FZ6QFG0j');\n  //   console.log(stripe);\n  //   stripe.redirectToCheckout({\n  //   sessionId: response.data.sessionId\n  // }).then(function (result) {\n  //   // If `redirectToCheckout` fails due to a browser or network\n  //   // error, display the localized error message to your customer\n  //   // using `result.error.message`.\n  // });\n  // history.push('/contact?success');\n};","map":{"version":3,"sources":["C:/Users/John/Desktop/Modern React With Redux Projects/beersandbrewskies/beersandbrewskies/src/services/stripe/actions.js"],"names":["axios","Stripe","stripe","cartTotal","cartProducts","dispatch","image","window","location","hostname","description","forEach","item","i","length","title","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,OAAO,MAAMC,MAAM,GAAG,CAACC,SAAD,EAAYC,YAAZ,KAA6B,MAAOC,QAAP,IAAoB;AACrE,QAAMC,KAAK,GAAI,GAAEC,MAAM,CAACC,QAAP,CAAgBC,QAAS,qDAA1C;AAEA,MAAIC,WAAW,GAAG,EAAlB;AAEAN,EAAAA,YAAY,CAACO,OAAb,CAAqB,CAACC,IAAD,EAAOC,CAAP,KAAa;AAChC,QAAGA,CAAC,GAAIT,YAAY,CAACU,MAAb,GAAsB,CAA9B,EAAiC;AAC/BJ,MAAAA,WAAW,IAAIE,IAAI,CAACG,KAAL,GAAa,IAA5B;AACD,KAFD,MAEK;AACHL,MAAAA,WAAW,IAAI,SAASE,IAAI,CAACG,KAA7B;AACD;AACF,GAND;AAQAC,EAAAA,OAAO,CAACC,GAAR,CAAYP,WAAZ,EAbqE,CAiBrE;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAIF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGE;AACD,CAlDM","sourcesContent":["import axios from 'axios';\r\nimport Stripe from 'stripe';\r\n\r\nexport const stripe = (cartTotal, cartProducts) => async (dispatch) => {\r\n  const image = `${window.location.hostname}:3000/static/media/home-background-img.40b4543e.jpg`;\r\n\r\n  var description = \"\";\r\n\r\n  cartProducts.forEach((item, i) => {\r\n    if(i < (cartProducts.length - 1)){\r\n      description += item.title + ', ';\r\n    }else{\r\n      description += 'and ' + item.title;\r\n    }\r\n  });\r\n\r\n  console.log(description);\r\n\r\n\r\n\r\n  // const name = \"\"\r\n\r\n  // formValues = {\r\n  //   name:\r\n  //   cartTotal: cartTotal,\r\n  //   description: description,\r\n  //   image: image,\r\n  //\r\n  // }\r\n\r\n\r\n\r\n//   let response;\r\n//   // const response = await contacts.post('/contacts/add', {...formValues});\r\n//   try {\r\n//    response = await axios.post('/shop/checkout', products);\r\n//   } catch (e) {\r\n//   return console.log(e);\r\n//   }\r\n//   console.log(response.data.sessionId);\r\n//\r\n//   const stripe = window.Stripe('pk_test_0kzCXvF6peItv0Z0FZ6QFG0j');\r\n//   console.log(stripe);\r\n//   stripe.redirectToCheckout({\r\n//   sessionId: response.data.sessionId\r\n// }).then(function (result) {\r\n//   // If `redirectToCheckout` fails due to a browser or network\r\n//   // error, display the localized error message to your customer\r\n//   // using `result.error.message`.\r\n// });\r\n\r\n\r\n  // history.push('/contact?success');\r\n};\r\n"]},"metadata":{},"sourceType":"module"}