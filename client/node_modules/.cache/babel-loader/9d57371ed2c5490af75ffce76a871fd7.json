{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\John\\\\Desktop\\\\Modern React With Redux Projects\\\\beersandbrewskiesproject\\\\booksandbrewskies\\\\client\\\\src\\\\components\\\\Men\\\\UploadBB.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport Modal from '../Modal';\n\nclass UploadBB extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChanges = event => {\n      event.target.name === 'bbImage' ? this.setState({\n        [event.target.name]: event.target.files[0]\n      }) : this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleFormSubmit = async e => {\n      e.preventDefault();\n      const _this$state = this.state,\n            bbImage = _this$state.bbImage,\n            type = _this$state.type,\n            name = _this$state.name,\n            description = _this$state.description,\n            rating = _this$state.rating,\n            comment = _this$state.comment;\n      const validImageTypes = ['image/gif', \"image/jpeg\", 'image/png'];\n      const dataObj = {\n        type,\n        name,\n        description,\n        rating,\n        comment\n      };\n\n      if (type === '' || rating === '') {\n        alert(\"Rating Or Type Is Empty\");\n        return;\n      }\n\n      if (bbImage === '') {\n        return this.setState({\n          error: [true, 'Please Upload Image (jpgm jpeg, png, or gif)']\n        });\n      }\n\n      if (!validImageTypes.includes(bbImage.type)) {\n        return this.setState({\n          error: [true, 'Images Only. Must Be jpg, jpeg, png, or gif']\n        });\n      }\n\n      const dataString = JSON.stringify(dataObj);\n      const data = new FormData();\n      data.append('bbImage', bbImage);\n      data.append('data', dataString);\n      const headers = {\n        'Content-Type': 'multipart/form-data'\n      };\n      await axios.post('/upload/reviews', data, {\n        headers: headers\n      }).then(obj => {\n        console.log(obj);\n        return this.setState({\n          success: [true, 'Item Added'],\n          type: '',\n          name: '',\n          description: '',\n          rating: '',\n          comment: '',\n          bbImage: ''\n        });\n      }).catch(err => {\n        console.log(err);\n        return this.setState({\n          error: [true, 'Failed To Upload']\n        });\n      });\n    };\n\n    this.handleLogin = e => {\n      e.preventDefault();\n\n      if (this.state.password === this.state.login[1]) {\n        this.setState({\n          login: [true]\n        });\n      } else {\n        alert(\"incorrect\");\n      }\n    };\n\n    this.state = {\n      bbImage: '',\n      type: '',\n      name: '',\n      description: '',\n      rating: '',\n      comment: '',\n      error: [false, ''],\n      success: false,\n      login: [false, 'ShaneHasABigLeftNut'],\n      password: ''\n    };\n  }\n\n  render() {\n    if (!this.state.login[0]) {\n      return React.createElement(\"form\", {\n        onSubmit: this.handleLogin,\n        style: {\n          position: \"fixed\",\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)',\n          width: '320px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Only Men\"), React.createElement(\"input\", {\n        type: \"password\",\n        className: \"form-control mt-4\",\n        name: \"password\",\n        onChange: e => this.setState({\n          password: e.target.value\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary btn-block mt-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Login\"));\n    }\n\n    const _this$state2 = this.state,\n          name = _this$state2.name,\n          description = _this$state2.description,\n          comment = _this$state2.comment,\n          success = _this$state2.success,\n          error = _this$state2.error;\n\n    if (error[0]) {\n      return React.createElement(Modal, {\n        showValue: true,\n        closeDirect: \"/men/bb/upload\",\n        buttonName: \"Close\",\n        title: \"Error\",\n        description: error[1],\n        svgType: \"error\",\n        handleState: () => this.setState({\n          error: [false, '']\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      });\n    }\n\n    if (success) {\n      return React.createElement(Modal, {\n        showValue: true,\n        buttonName: \"Close\",\n        title: \"Item Added\",\n        description: \"\",\n        svgType: \"success\",\n        handleState: () => this.setState({\n          success: false\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"Upload Book Or Beer\"), React.createElement(\"form\", {\n      className: \"uploadBB-form\",\n      onSubmit: this.handleFormSubmit,\n      encType: \"multipart/form-data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      name: \"type\",\n      className: \"form-control\",\n      onChange: this.handleInputChanges,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      defaultValue: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Type\"), React.createElement(\"option\", {\n      value: \"beer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Beer\"), React.createElement(\"option\", {\n      value: \"book\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"Book\"))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"bbImage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Upload Book or Brewskie\"), React.createElement(\"input\", {\n      type: \"file\",\n      name: \"bbImage\",\n      id: \"bbImage\",\n      className: \"form-control-file\",\n      onChange: this.handleInputChanges,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"name\",\n      placeholder: \"Name\",\n      value: name,\n      onChange: this.handleInputChanges,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"description\",\n      placeholder: \"From\",\n      value: description,\n      onChange: this.handleInputChanges,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      name: \"rating\",\n      className: \"form-control\",\n      onChange: this.handleInputChanges,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      defaultValue: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"Rating\"), React.createElement(\"option\", {\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"1\"), React.createElement(\"option\", {\n      value: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"2\"), React.createElement(\"option\", {\n      value: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"3\"), React.createElement(\"option\", {\n      value: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"4\"), React.createElement(\"option\", {\n      value: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"5\"))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"comment\",\n      placeholder: \"Any Comments?\",\n      value: comment,\n      onChange: this.handleInputChanges,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary btn-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \"Submit\")))));\n  }\n\n}\n\nexport default UploadBB;","map":{"version":3,"sources":["C:/Users/John/Desktop/Modern React With Redux Projects/beersandbrewskiesproject/booksandbrewskies/client/src/components/Men/UploadBB.js"],"names":["React","axios","Modal","UploadBB","Component","constructor","props","handleInputChanges","event","target","name","setState","files","value","handleFormSubmit","e","preventDefault","state","bbImage","type","description","rating","comment","validImageTypes","dataObj","alert","error","includes","dataString","JSON","stringify","data","FormData","append","headers","post","then","obj","console","log","success","catch","err","handleLogin","password","login","render","position","top","left","transform","width"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport Modal from '../Modal';\r\n\r\nclass UploadBB extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            bbImage: '',\r\n            type: '',\r\n            name: '',\r\n            description: '',\r\n            rating: '',\r\n            comment: '',\r\n            error: [false, ''],\r\n            success: false,\r\n            login: [false, 'ShaneHasABigLeftNut'],\r\n            password: ''\r\n        }\r\n    }\r\n\r\n    handleInputChanges = (event) => {\r\n        event.target.name === 'bbImage' ? this.setState({ [event.target.name]: event.target.files[0] }) : this.setState({ [event.target.name]: event.target.value })\r\n    }\r\n\r\n    handleFormSubmit = async(e) => {\r\n        e.preventDefault();\r\n\r\n        const { bbImage, type, name, description, rating, comment } = this.state;\r\n        const validImageTypes = ['image/gif', \"image/jpeg\", 'image/png'];\r\n\r\n        const dataObj = {\r\n            type,\r\n            name,\r\n            description,\r\n            rating,\r\n            comment\r\n        }\r\n\r\n        if( type === '' || rating === ''){\r\n            alert(\"Rating Or Type Is Empty\");\r\n            return;\r\n        }\r\n\r\n        if (bbImage === '') {\r\n            return this.setState({ error: [true, 'Please Upload Image (jpgm jpeg, png, or gif)'] })\r\n        }\r\n\r\n        if (!validImageTypes.includes(bbImage.type)) {\r\n            return this.setState({ error: [true, 'Images Only. Must Be jpg, jpeg, png, or gif'] });\r\n        }\r\n\r\n        const dataString = JSON.stringify(dataObj);\r\n\r\n        const data = new FormData();\r\n        data.append('bbImage', bbImage);\r\n        data.append('data', dataString);\r\n\r\n        const headers = {\r\n            'Content-Type': 'multipart/form-data'\r\n        }\r\n\r\n        await axios.post('/upload/reviews', data, {headers:headers})\r\n            .then((obj) => {\r\n                console.log(obj);\r\n                return this.setState({\r\n                    success: [true, 'Item Added'],\r\n                    type: '',\r\n                    name: '',\r\n                    description: '',\r\n                    rating: '',\r\n                    comment: '',\r\n                    bbImage: '' \r\n                })\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                return this.setState({error: [true, 'Failed To Upload']})\r\n            })\r\n    }\r\n\r\n    handleLogin = (e) => {\r\n        e.preventDefault()\r\n\r\n        if (this.state.password === this.state.login[1]){\r\n            this.setState({login: [true]})\r\n        }else{\r\n            alert(\"incorrect\")\r\n        }\r\n    }\r\n\r\n    render() {\r\n        \r\n\r\n        if(!this.state.login[0]){\r\n            return (\r\n                <form onSubmit={this.handleLogin} style={{\r\n                    position: \"fixed\",\r\n                    top: '50%',\r\n                    left: '50%',\r\n                    transform: 'translate(-50%, -50%)',\r\n                    width: '320px'\r\n                }}>\r\n                    <h1 className=\"text-center\">Only Men</h1>\r\n                    <input type=\"password\" className=\"form-control mt-4\" name=\"password\" onChange={(e) => this.setState({password: e.target.value})}/>\r\n                    <button type=\"submit\" className=\"btn btn-primary btn-block mt-4\">Login</button>\r\n                </form>\r\n            )\r\n        }\r\n\r\n        const { name, description, comment, success, error } = this.state;\r\n\r\n        if(error[0]){\r\n            return (\r\n                <Modal\r\n                showValue={true}\r\n                closeDirect='/men/bb/upload'\r\n                buttonName='Close'\r\n                title='Error'\r\n                description={error[1]}\r\n                svgType=\"error\"\r\n                handleState={() => this.setState({error:[false, '']})}\r\n            />\r\n            )\r\n        }\r\n\r\n        if(success) {\r\n            return(\r\n                <Modal\r\n                showValue={true}\r\n                buttonName='Close'\r\n                title='Item Added'\r\n                description=\"\"\r\n                svgType=\"success\"\r\n                handleState={() => this.setState({success:false})}\r\n            />\r\n            )\r\n        }\r\n\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col\">\r\n                        <h1 className=\"text-center\">Upload Book Or Beer</h1>\r\n                        <form className=\"uploadBB-form\" onSubmit={this.handleFormSubmit} encType=\"multipart/form-data\">\r\n                            <div className=\"form-group\">\r\n                                <select name=\"type\" className=\"form-control\" onChange={this.handleInputChanges} required>\r\n                                    <option value=\"\" defaultValue>Type</option>\r\n                                    <option value=\"beer\">Beer</option>\r\n                                    <option value=\"book\">Book</option>\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"bbImage\">Upload Book or Brewskie</label>\r\n                                <input type='file' name='bbImage' id=\"bbImage\" className=\"form-control-file\" onChange={this.handleInputChanges} required />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <input type='text' className=\"form-control\" name='name' placeholder='Name' value={name} onChange={this.handleInputChanges} required />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <input type='text' className=\"form-control\" name='description' placeholder='From' value={description} onChange={this.handleInputChanges} required />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <select name=\"rating\" className=\"form-control\" onChange={this.handleInputChanges}  required>\r\n                                    <option value=\"\" defaultValue>Rating</option>\r\n                                    <option value='1'>1</option>\r\n                                    <option value='2'>2</option>\r\n                                    <option value='3'>3</option>\r\n                                    <option value='4'>4</option>\r\n                                    <option value='5'>5</option>\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <textarea type='text' className=\"form-control\" name='comment' placeholder=\"Any Comments?\" value={comment} onChange={this.handleInputChanges} required />\r\n                            </div>\r\n\r\n                            <button type=\"submit\" className=\"btn btn-primary btn-block\">Submit</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default UploadBB;"]},"metadata":{},"sourceType":"module"}