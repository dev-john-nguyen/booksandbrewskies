{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\John\\\\Desktop\\\\Modern React With Redux Projects\\\\beersandbrewskies\\\\beersandbrewskies\\\\src\\\\components\\\\shop\\\\components\\\\FloatCart.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { updateCart, loadCart, removeProduct, changeProductQuantity } from '../../../actions';\n\nclass FloatCart extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.addProduct = product => {\n      const _this$props = this.props,\n            cartProducts = _this$props.cartProducts,\n            updateCart = _this$props.updateCart;\n      let productAlreadyInCart = false;\n      cartProducts.forEach(cp => {\n        if (cp.id === product.id) {\n          cp.quantity += product.quantity;\n          productAlreadyInCart = true;\n        }\n      });\n\n      if (!productAlreadyInCart) {\n        cartProducts.push(product);\n      }\n\n      updateCart(cartProducts);\n      console.log(cartProducts);\n    };\n\n    this.removeProduct = () => {};\n\n    this.changeProductQuantity = () => {};\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.newProduct !== this.props.newProduct) {\n      this.addProduct(this.props.newProduct);\n    }\n\n    if (prevProps.productToRemove !== this.props.productToRemove) {\n      this.removeProduct(this.props.newProduct);\n    }\n\n    if (prevProps.productToChange !== this.props.productToChange) {\n      this.changeProductQuantity(this.props.newProduct);\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"FloatCart\");\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    cartProducts: state.cart.products,\n    newProduct: state.cart.productToAdd,\n    productToRemove: state.cart.productToRemove,\n    productToChange: state.cart.productToChange\n  };\n};\n\nexport default connect(mapStateToProps, {})(FloatCart);","map":{"version":3,"sources":["C:/Users/John/Desktop/Modern React With Redux Projects/beersandbrewskies/beersandbrewskies/src/components/shop/components/FloatCart.js"],"names":["React","connect","updateCart","loadCart","removeProduct","changeProductQuantity","FloatCart","Component","addProduct","product","props","cartProducts","productAlreadyInCart","forEach","cp","id","quantity","push","console","log","componentDidUpdate","prevProps","newProduct","productToRemove","productToChange","render","mapStateToProps","state","cart","products","productToAdd"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SACEC,UADF,EAEEC,QAFF,EAGEC,aAHF,EAIEC,qBAJF,QAKO,kBALP;;AAOA,MAAMC,SAAN,SAAwBN,KAAK,CAACO,SAA9B,CAAwC;AAAA;AAAA;;AAAA,SAgBtCC,UAhBsC,GAgBxBC,OAAD,IAAa;AAAA,0BACa,KAAKC,KADlB;AAAA,YAChBC,YADgB,eAChBA,YADgB;AAAA,YACFT,UADE,eACFA,UADE;AAExB,UAAIU,oBAAoB,GAAG,KAA3B;AAEAD,MAAAA,YAAY,CAACE,OAAb,CAAqBC,EAAE,IAAI;AACzB,YAAIA,EAAE,CAACC,EAAH,KAAUN,OAAO,CAACM,EAAtB,EAA0B;AACxBD,UAAAA,EAAE,CAACE,QAAH,IAAeP,OAAO,CAACO,QAAvB;AACAJ,UAAAA,oBAAoB,GAAG,IAAvB;AACD;AACF,OALD;;AAOA,UAAI,CAACA,oBAAL,EAA2B;AACzBD,QAAAA,YAAY,CAACM,IAAb,CAAkBR,OAAlB;AACD;;AAEDP,MAAAA,UAAU,CAACS,YAAD,CAAV;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAYR,YAAZ;AACD,KAjCqC;;AAAA,SAmCtCP,aAnCsC,GAmCtB,MAAM,CAErB,CArCqC;;AAAA,SAuCtCC,qBAvCsC,GAuCd,MAAM,CAE7B,CAzCqC;AAAA;;AACtCe,EAAAA,kBAAkB,CAACC,SAAD,EAAW;AAC3B,QAAIA,SAAS,CAACC,UAAV,KAAyB,KAAKZ,KAAL,CAAWY,UAAxC,EAAoD;AAClD,WAAKd,UAAL,CAAgB,KAAKE,KAAL,CAAWY,UAA3B;AACD;;AAED,QAAID,SAAS,CAACE,eAAV,KAA8B,KAAKb,KAAL,CAAWa,eAA7C,EAA8D;AAC5D,WAAKnB,aAAL,CAAmB,KAAKM,KAAL,CAAWY,UAA9B;AACD;;AAED,QAAID,SAAS,CAACG,eAAV,KAA8B,KAAKd,KAAL,CAAWc,eAA7C,EAA8D;AAC5D,WAAKnB,qBAAL,CAA2B,KAAKK,KAAL,CAAWY,UAAtC;AACD;AAEF;;AA6BDG,EAAAA,MAAM,GAAE;AACN,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF;AAGD;;AA/CqC;;AAkDxC,MAAMC,eAAe,GAAGC,KAAK,IAAI;AAC/B,SAAO;AACLhB,IAAAA,YAAY,EAAEgB,KAAK,CAACC,IAAN,CAAWC,QADpB;AAELP,IAAAA,UAAU,EAAEK,KAAK,CAACC,IAAN,CAAWE,YAFlB;AAGLP,IAAAA,eAAe,EAAEI,KAAK,CAACC,IAAN,CAAWL,eAHvB;AAILC,IAAAA,eAAe,EAAEG,KAAK,CAACC,IAAN,CAAWJ;AAJvB,GAAP;AAMD,CAPD;;AAUA,eAAevB,OAAO,CAACyB,eAAD,EAAiB,EAAjB,CAAP,CAA4BpB,SAA5B,CAAf","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  updateCart,\r\n  loadCart,\r\n  removeProduct,\r\n  changeProductQuantity\r\n} from '../../../actions';\r\n\r\nclass FloatCart extends React.Component {\r\n  componentDidUpdate(prevProps){\r\n    if (prevProps.newProduct !== this.props.newProduct) {\r\n      this.addProduct(this.props.newProduct);\r\n    }\r\n\r\n    if (prevProps.productToRemove !== this.props.productToRemove) {\r\n      this.removeProduct(this.props.newProduct);\r\n    }\r\n\r\n    if (prevProps.productToChange !== this.props.productToChange) {\r\n      this.changeProductQuantity(this.props.newProduct);\r\n    }\r\n\r\n  }\r\n\r\n  addProduct = (product) => {\r\n    const { cartProducts, updateCart } = this.props;\r\n    let productAlreadyInCart = false;\r\n\r\n    cartProducts.forEach(cp => {\r\n      if (cp.id === product.id) {\r\n        cp.quantity += product.quantity;\r\n        productAlreadyInCart = true;\r\n      }\r\n    });\r\n\r\n    if (!productAlreadyInCart) {\r\n      cartProducts.push(product);\r\n    }\r\n\r\n    updateCart(cartProducts);\r\n    console.log(cartProducts);\r\n  }\r\n\r\n  removeProduct = () => {\r\n\r\n  }\r\n\r\n  changeProductQuantity = () => {\r\n\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div>FloatCart</div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    cartProducts: state.cart.products,\r\n    newProduct: state.cart.productToAdd,\r\n    productToRemove: state.cart.productToRemove,\r\n    productToChange: state.cart.productToChange,\r\n  }\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps,{})(FloatCart);\r\n"]},"metadata":{},"sourceType":"module"}