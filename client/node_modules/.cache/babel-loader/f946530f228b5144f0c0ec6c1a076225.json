{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\John\\\\Desktop\\\\Modern React With Redux Projects\\\\beersandbrewskies\\\\beersandbrewskies\\\\src\\\\components\\\\shop\\\\components\\\\Product.js\";\nimport React from 'react';\nimport Thumb from './Thumb';\nimport { connect } from 'react-redux';\nimport { addProduct, changeProductQuantity } from '../../../actions';\nimport Notify from './Notify';\n\nclass Product extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      productAdd: [],\n      added: false\n    };\n  }\n\n  checkForDuplicate(product) {\n    var duplicate = false;\n    this.props.cartProducts.forEach((item, index) => {\n      if (item.id === product.id) {\n        product.quantity = item.quantity + 1;\n        this.props.changeProductQuantity(product, index);\n        duplicate = true;\n      }\n    });\n\n    if (!duplicate) {\n      product.quantity = 1;\n      this.props.addProduct(product);\n    }\n\n    this.setState({\n      productAdd: product,\n      added: true\n    });\n  }\n\n  notifyCalled() {\n    this.setState({\n      productAdd: [],\n      added: false\n    });\n  }\n\n  render() {\n    const formatPrice = (x, currency) => {\n      return x.toFixed(2);\n    };\n\n    const product = this.props.product;\n    return React.createElement(\"div\", {\n      className: \"shelf-item\",\n      onClick: () => this.checkForDuplicate(product),\n      \"data-sku\": product.sku,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, this.state.added && React.createElement(Notify, {\n      product: this.state.productAdd,\n      notifyCalled: this.notifyCalled(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(Thumb, {\n      classes: \"shelf-item__thumb\",\n      src: require(`../static/products/${product.sku}_1.jpg`),\n      alt: product.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"shelf-item__title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, product.title), React.createElement(\"div\", {\n      className: \"shelf-item__price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"val\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"small\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, product.currencyFormat), React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, formatPrice(product.price, product.currencyFormat)), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"shelf-item__buy-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Add to cart\"));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    cartProducts: state.cart.products\n  };\n};\n\nexport default connect(mapStateToProps, {\n  addProduct,\n  changeProductQuantity\n})(Product);","map":{"version":3,"sources":["C:/Users/John/Desktop/Modern React With Redux Projects/beersandbrewskies/beersandbrewskies/src/components/shop/components/Product.js"],"names":["React","Thumb","connect","addProduct","changeProductQuantity","Notify","Product","Component","state","productAdd","added","checkForDuplicate","product","duplicate","props","cartProducts","forEach","item","index","id","quantity","setState","notifyCalled","render","formatPrice","x","currency","toFixed","sku","require","title","currencyFormat","price","mapStateToProps","cart","products"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Thumb from './Thumb';\r\nimport { connect } from 'react-redux';\r\nimport { addProduct, changeProductQuantity } from '../../../actions';\r\nimport Notify from './Notify';\r\n\r\nclass Product extends React.Component {\r\n  state = {\r\n    productAdd: [],\r\n    added: false\r\n  }\r\n\r\n  checkForDuplicate(product) {\r\n    var duplicate = false;\r\n\r\n    this.props.cartProducts.forEach((item, index) => {\r\n      if(item.id === product.id){\r\n        product.quantity = item.quantity + 1;\r\n        this.props.changeProductQuantity(product, index);\r\n        duplicate = true;\r\n      }\r\n    });\r\n\r\n    if(!duplicate){\r\n      product.quantity = 1;\r\n      this.props.addProduct(product);\r\n    }\r\n\r\n    this.setState({\r\n      productAdd: product,\r\n      added: true\r\n    });\r\n  }\r\n\r\n  notifyCalled() {\r\n    this.setState({\r\n      productAdd: [],\r\n      added: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const formatPrice = (x, currency) => {\r\n          return x.toFixed(2);\r\n    };\r\n\r\n    const { product } = this.props;\r\n\r\n    return (\r\n      <div\r\n        className=\"shelf-item\"\r\n        onClick={() => this.checkForDuplicate(product)}\r\n        data-sku={product.sku}\r\n      >\r\n      {this.state.added && (\r\n        <Notify product = {this.state.productAdd} notifyCalled = {this.notifyCalled()}/>\r\n      )}\r\n        <Thumb\r\n          classes=\"shelf-item__thumb\"\r\n          src={require(`../static/products/${product.sku}_1.jpg`)}\r\n          alt={product.title}\r\n        />\r\n        <p className=\"shelf-item__title\">{product.title}</p>\r\n        <div className=\"shelf-item__price\">\r\n          <div className=\"val\">\r\n            <small>{product.currencyFormat}</small>\r\n            <b>{formatPrice(product.price,product.currencyFormat)}</b>\r\n            <span></span>\r\n          </div>\r\n        </div>\r\n        <div className=\"shelf-item__buy-btn\">Add to cart</div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    cartProducts: state.cart.products\r\n  }\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { addProduct, changeProductQuantity }\r\n)(Product);\r\n"]},"metadata":{},"sourceType":"module"}